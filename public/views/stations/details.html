<h2>Station {{stationAbbr | stationName}}
    <a href="/#/trains?startStation={{stationAbbr}}" class="btn btn-info btn-lg pull-right">Find a train from/to {{station.name}}</a>
</h2>

<div class="well">
    <form name="stationUpdateForm">
        <div class="form-group">
            <label>
                Name:
                <input type="text" required ng-model="station.name" />
            </label>
        </div>
        <div class="form-group">
            <hp-checkbox-list id="lineSelect" listSource="lines" listSourceProperty="name" objectSource="station" objectProperty="lines"/>
        </div>
        <div class="form-group">
            <button class="btn btn-primary" ng-click="updateStation()"
                    ng-disabled="!stationUpdateForm.$valid">Submit</button>
        </div>
    </form>
</div>
<h2>Trains</h2>
<table class="table">
    <thead>
    <tr>
        <th>Number</th>
        <th>Description</th>
        <th>Stops</th>
        <th>Origination</th>
        <th>Termination</th>
        <th>Arrive {{stationAbbr | stationName}}</th>
        <th>Leaves In</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="train in trains | orderBy:train.stationStop.time">
        <td><a href="/#/trains/{{train.number}}">{{train.number}}</a></td>
        <td>{{train.description}}</td>
        <td>{{train.stops.length}}</td>
        <td><a href="/#/stations/{{train.originStation}}">{{train.originStation | stationName}}</a></td>
        <td><a href="/#/stations/{{train.terminalStation}}">{{train.terminalStation| stationName}}</a></td>
        <td>{{train.stationStop.time | timeDisplay}}</td>
        <td><a hp-seconds-elapsed expr="train.stationStop.time" href="/#/trains?startStation={{train.stationStop.station}}"></a></td>
    </tr>
    </tbody>
</table>

